cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_context.c -o bin/fiber_context.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_manager.c -o bin/fiber_manager.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_mutex.c -o bin/fiber_mutex.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_semaphore.c -o bin/fiber_semaphore.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_spinlock.c -o bin/fiber_spinlock.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_cond.c -o bin/fiber_cond.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber.c -o bin/fiber.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_barrier.c -o bin/fiber_barrier.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_io.c -o bin/fiber_io.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_rwlock.c -o bin/fiber_rwlock.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/hazard_pointer.c -o bin/hazard_pointer.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/work_stealing_deque.c -o bin/work_stealing_deque.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/work_queue.c -o bin/work_queue.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_scheduler_wsd.c -o bin/fiber_scheduler_wsd.pic.o
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -DSHARED_LIB -fPIC -c src/fiber_event_native.c -o bin/fiber_event_native.pic.o
cc -shared -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING bin/fiber_context.pic.o bin/fiber_manager.pic.o bin/fiber_mutex.pic.o bin/fiber_semaphore.pic.o bin/fiber_spinlock.pic.o bin/fiber_cond.pic.o bin/fiber.pic.o bin/fiber_barrier.pic.o bin/fiber_io.pic.o bin/fiber_rwlock.pic.o bin/hazard_pointer.pic.o bin/work_stealing_deque.pic.o bin/work_queue.pic.o bin/fiber_scheduler_wsd.pic.o bin/fiber_event_native.pic.o -o libfiber.so -ldl -lm -lrt
cc -Werror -DEV_STANDALONE -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -c example/echo_server.c -o bin/echo_server.o
cp libfiber.so bin/libfiber.so
cc -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING bin/echo_server.o bin/libfiber.so -o bin/echo_server -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_tryjoin.c -o bin/test_tryjoin.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_tryjoin.o bin/libfiber.so -o bin/test_tryjoin -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_sleep.c -o bin/test_sleep.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_sleep.o bin/libfiber.so -o bin/test_sleep -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_io.c -o bin/test_io.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_io.o bin/libfiber.so -o bin/test_io -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_context.c -o bin/test_context.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_context.o bin/libfiber.so -o bin/test_context -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_context_speed.c -o bin/test_context_speed.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_context_speed.o bin/libfiber.so -o bin/test_context_speed -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_basic.c -o bin/test_basic.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_basic.o bin/libfiber.so -o bin/test_basic -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_multithread.c -o bin/test_multithread.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_multithread.o bin/libfiber.so -o bin/test_multithread -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_mpmc_stack.c -o bin/test_mpmc_stack.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_mpmc_stack.o bin/libfiber.so -o bin/test_mpmc_stack -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_mpmc_fifo.c -o bin/test_mpmc_fifo.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_mpmc_fifo.o bin/libfiber.so -o bin/test_mpmc_fifo -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_spsc.c -o bin/test_spsc.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_spsc.o bin/libfiber.so -o bin/test_spsc -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_mpsc.c -o bin/test_mpsc.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_mpsc.o bin/libfiber.so -o bin/test_mpsc -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_mpscr.c -o bin/test_mpscr.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_mpscr.o bin/libfiber.so -o bin/test_mpscr -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_wsd.c -o bin/test_wsd.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_wsd.o bin/libfiber.so -o bin/test_wsd -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_mutex.c -o bin/test_mutex.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_mutex.o bin/libfiber.so -o bin/test_mutex -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_semaphore.c -o bin/test_semaphore.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_semaphore.o bin/libfiber.so -o bin/test_semaphore -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_wait_in_queue.c -o bin/test_wait_in_queue.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_wait_in_queue.o bin/libfiber.so -o bin/test_wait_in_queue -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_cond.c -o bin/test_cond.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_cond.o bin/libfiber.so -o bin/test_cond -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_barrier.c -o bin/test_barrier.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_barrier.o bin/libfiber.so -o bin/test_barrier -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_spinlock.c -o bin/test_spinlock.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_spinlock.o bin/libfiber.so -o bin/test_spinlock -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_rwlock.c -o bin/test_rwlock.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_rwlock.o bin/libfiber.so -o bin/test_rwlock -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_hazard_pointers.c -o bin/test_hazard_pointers.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_hazard_pointers.o bin/libfiber.so -o bin/test_hazard_pointers -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_lockfree_ring_buffer.c -o bin/test_lockfree_ring_buffer.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_lockfree_ring_buffer.o bin/libfiber.so -o bin/test_lockfree_ring_buffer -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_lockfree_ring_buffer2.c -o bin/test_lockfree_ring_buffer2.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_lockfree_ring_buffer2.o bin/libfiber.so -o bin/test_lockfree_ring_buffer2 -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_unbounded_channel.c -o bin/test_unbounded_channel.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_unbounded_channel.o bin/libfiber.so -o bin/test_unbounded_channel -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_channel_pingpong.c -o bin/test_channel_pingpong.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_channel_pingpong.o bin/libfiber.so -o bin/test_channel_pingpong -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_unbounded_channel_pingpong.c -o bin/test_unbounded_channel_pingpong.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_unbounded_channel_pingpong.o bin/libfiber.so -o bin/test_unbounded_channel_pingpong -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_work_queue.c -o bin/test_work_queue.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_work_queue.o bin/libfiber.so -o bin/test_work_queue -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_yield_speed.c -o bin/test_yield_speed.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_yield_speed.o bin/libfiber.so -o bin/test_yield_speed -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_dist_fifo.c -o bin/test_dist_fifo.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_dist_fifo.o bin/libfiber.so -o bin/test_dist_fifo -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_wsd_scale.c -o bin/test_wsd_scale.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_wsd_scale.o bin/libfiber.so -o bin/test_wsd_scale -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_multi_channel.c -o bin/test_multi_channel.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_multi_channel.o bin/libfiber.so -o bin/test_multi_channel -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_bounded_mpmc_channel.c -o bin/test_bounded_mpmc_channel.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_bounded_mpmc_channel.o bin/libfiber.so -o bin/test_bounded_mpmc_channel -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_bounded_mpmc_channel2.c -o bin/test_bounded_mpmc_channel2.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_bounded_mpmc_channel2.o bin/libfiber.so -o bin/test_bounded_mpmc_channel2 -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_fifo_steal_scale.c -o bin/test_fifo_steal_scale.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_fifo_steal_scale.o bin/libfiber.so -o bin/test_fifo_steal_scale -lpthread -ldl -lm -lrt
cc -Werror -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -Isrc -c test/test_sharded_fifo_steal_scale.c -o bin/test_sharded_fifo_steal_scale.o
cc -Werror -lm -m64 -DARCH_x86_64 -pthread -Wall -Iinclude -Isubmodules/libev -D_REENTRANT -ggdb -O3 -fsplit-stack -DFIBER_STACK_SPLIT -DLINUX -DUSE_COMPILER_THREAD_LOCAL -DFIBER_FAST_SWITCHING -L. -Lbin bin/test_sharded_fifo_steal_scale.o bin/libfiber.so -o bin/test_sharded_fifo_steal_scale -lpthread -ldl -lm -lrt
for cur in test_tryjoin test_sleep test_io test_context test_context_speed test_basic test_multithread test_mpmc_stack test_mpmc_fifo test_spsc test_mpsc test_mpscr test_wsd test_mutex test_semaphore test_wait_in_queue test_cond test_barrier test_spinlock test_rwlock test_hazard_pointers test_lockfree_ring_buffer test_lockfree_ring_buffer2 test_unbounded_channel test_channel_pingpong test_unbounded_channel_pingpong test_work_queue test_yield_speed test_dist_fifo test_wsd_scale test_multi_channel test_bounded_mpmc_channel test_bounded_mpmc_channel2 test_fifo_steal_scale test_sharded_fifo_steal_scale ; do echo $cur; LD_LIBRARY_PATH=..:$LD_LIBRARY_PATH time ./bin/$cur > /dev/null; if [ "$?" -ne "0" ] ; then echo "ERROR $cur - failed!"; fi; done
test_tryjoin
test_sleep
test_io
test_context
test_context_speed
test_basic
test_multithread
test_mpmc_stack
test_mpmc_fifo
test_spsc
test_mpsc
test_mpscr
test_wsd
test_mutex
test_semaphore
test_wait_in_queue
test_cond
test_barrier
test_spinlock
test_rwlock
test_hazard_pointers
test_lockfree_ring_buffer
test_lockfree_ring_buffer2
test_unbounded_channel
test_channel_pingpong
test_unbounded_channel_pingpong
test_work_queue
test_yield_speed
test_dist_fifo
test_wsd_scale
test_multi_channel
test_bounded_mpmc_channel
test_bounded_mpmc_channel2
test_fifo_steal_scale
test_sharded_fifo_steal_scale
rm bin/test_multi_channel.o bin/test_yield_speed.o bin/test_barrier.o bin/test_fifo_steal_scale.o bin/test_mutex.o bin/test_context.o bin/test_wsd.o bin/test_mpscr.o bin/test_context_speed.o bin/test_bounded_mpmc_channel.o bin/test_sleep.o bin/test_multithread.o bin/test_unbounded_channel.o bin/test_tryjoin.o bin/test_mpmc_fifo.o bin/test_cond.o bin/test_mpmc_stack.o bin/test_work_queue.o bin/test_lockfree_ring_buffer.o bin/test_io.o bin/test_hazard_pointers.o bin/test_dist_fifo.o bin/test_sharded_fifo_steal_scale.o bin/test_rwlock.o bin/test_spsc.o bin/test_semaphore.o bin/test_basic.o bin/test_spinlock.o bin/test_bounded_mpmc_channel2.o bin/test_wsd_scale.o bin/test_channel_pingpong.o bin/test_mpsc.o bin/test_unbounded_channel_pingpong.o bin/test_wait_in_queue.o bin/test_lockfree_ring_buffer2.o
